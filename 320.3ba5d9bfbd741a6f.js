"use strict";(self.webpackChunkng_store=self.webpackChunkng_store||[]).push([[320],{3320:(tt,f,n)=>{n.r(f),n.d(f,{ProductsModule:()=>V});var h=n(3116),P=n(1949),c=n(9808),d=n(2382),v=n(9783),a=n(7579),Z=n(4482),b=n(5403),C=n(8421),y=n(5032);function l(o){return(0,Z.e)((i,r)=>{(0,C.Xf)(o).subscribe((0,b.x)(r,()=>r.complete(),y.Z)),!r.closed&&i.subscribe(r)})}var t=n(1223),p=n(1590),A=n(2340),S=n(520);let m=(()=>{class o{constructor(r){this.http=r,this.prodApiUrl=A.N.apiUrl+"products/"}getProducts(r){return this.http.get(this.prodApiUrl+"?limit="+r)}getProduct(r){return this.http.get(`${this.prodApiUrl}${r}`)}addProduct(r){return this.http.post(this.prodApiUrl,r)}}return o.\u0275fac=function(r){return new(r||o)(t.LFG(S.eN))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var g=n(7951),T=n(4297),I=n(4534),x=n(845),U=n(1424),O=n(7010),M=n(3407);function J(o,i){1&o&&t._UZ(0,"div",26)}function w(o,i){1&o&&(t.TgZ(0,"small",27),t._uU(1,"Title is required"),t.qZA())}function L(o,i){1&o&&(t.TgZ(0,"small",27),t._uU(1,"Price is required"),t.qZA())}function Y(o,i){1&o&&(t.TgZ(0,"small",28),t._uU(1,"Catagory is required"),t.qZA())}function q(o,i){1&o&&(t.TgZ(0,"small",27),t._uU(1,"Decribtion is required"),t.qZA())}function N(o,i){1&o&&(t.TgZ(0,"small",28),t._uU(1,"Image is required"),t.qZA())}let F=(()=>{class o{constructor(r,e,s,u,K){this.formBulider=r,this.messageService=e,this.router=s,this.prodSer=u,this.uiSer=K,this.isSubmitted=!1,this.endSub$=new a.x}ngOnInit(){this.initForm()}initForm(){this.form=this.formBulider.group({title:["",d.kI.required],price:["",d.kI.required],category:["",d.kI.required],description:["",d.kI.required],image:["",d.kI.required]})}submit(){this.isSubmitted=!0,this.form.invalid||(this.uiSer.showLoader(),this.prodSer.addProduct({title:this.form.controls.title.value,price:this.form.controls.price.value,category:this.form.controls.category.value,description:this.form.controls.description.value,image:this.form.controls.image.value}).pipe(l(this.endSub$)).subscribe(e=>{this.messageService.add({severity:"success",summary:"Success",detail:`Product ${e.title} Added Successfully`}),this.uiSer.showLoader(),setTimeout(()=>{this.router.navigate(["/products"])},1e3)}))}ngOnDestroy(){this.endSub$.next(""),this.endSub$.complete()}}return o.\u0275fac=function(r){return new(r||o)(t.Y36(d.qu),t.Y36(v.ez),t.Y36(p.F0),t.Y36(m),t.Y36(g.F))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-add-product"]],features:[t._Bn([v.ez])],decls:40,vars:10,consts:[[1,"cata-container"],["class","overlay",4,"ngIf"],["header","Add Product"],[1,"grid","mb-2"],[1,"col-12"],[1,"p-toolbar-group-left"],[1,"p-toolbar-group-right"],["styleClass","p-button-primary mr-2","label","Create","icon","pi pi-plus",3,"click"],["styleClass","p-button-secondary","label","Cancel","icon","pi pi-times","routerLink","/products"],[3,"formGroup"],[1,"formgrid","grid"],[1,"field","col"],["for","name"],["id","name","type","text","pInputText","","formControlName","title",1,"w-full"],["class","p-error",4,"ngIf"],["for","price",1,"block"],["mode","currency","currency","USD","locale","en-US","formControlName","price","inputId","price",1,"w-full"],[1,"col","field"],["for","Catagory",1,"block"],["id","name","type","text","pInputText","","formControlName","category",1,"w-full"],["class","p-error block",4,"ngIf"],[1,"field","col-12"],["for","describtion",1,"block"],["pInputTextarea","","formControlName","description",1,"w-full",3,"rows"],["for","main-image",1,"block"],["id","main-image","pInputText","","type","url","formControlName","image",2,"width","100%"],[1,"overlay"],[1,"p-error"],[1,"p-error","block"]],template:function(r,e){1&r&&(t._UZ(0,"p-toast"),t.TgZ(1,"div",0),t.YNc(2,J,1,0,"div",1),t.ALo(3,"async"),t.TgZ(4,"p-card",2)(5,"div",3)(6,"div",4)(7,"p-toolbar"),t._UZ(8,"div",5),t.TgZ(9,"div",6)(10,"p-button",7),t.NdJ("click",function(){return e.submit()}),t.qZA(),t._UZ(11,"p-button",8),t.qZA()()()(),t.TgZ(12,"form",9)(13,"div",10)(14,"div",11)(15,"label",12),t._uU(16,"Title"),t.qZA(),t._UZ(17,"input",13),t.YNc(18,w,2,0,"small",14),t.qZA(),t.TgZ(19,"div",11)(20,"label",15),t._uU(21,"Price"),t.qZA(),t._UZ(22,"p-inputNumber",16),t.YNc(23,L,2,0,"small",14),t.qZA()(),t.TgZ(24,"div",10)(25,"div",17)(26,"label",18),t._uU(27,"Catagory"),t.qZA(),t._UZ(28,"input",19),t.YNc(29,Y,2,0,"small",20),t.qZA(),t.TgZ(30,"div",21)(31,"label",22),t._uU(32,"Describtion"),t.qZA(),t._UZ(33,"textarea",23),t.YNc(34,q,2,0,"small",14),t.qZA(),t.TgZ(35,"div",21)(36,"label",24),t._uU(37,"Main Image"),t.qZA(),t._UZ(38,"input",25),t.YNc(39,N,2,0,"small",20),t.qZA()()()()()),2&r&&(t.xp6(2),t.Q6J("ngIf",t.lcZ(3,8,e.uiSer.isLoading$)),t.xp6(10),t.Q6J("formGroup",e.form),t.xp6(6),t.Q6J("ngIf",e.form.controls.title.invalid&&e.isSubmitted),t.xp6(5),t.Q6J("ngIf",e.form.controls.price.invalid&&e.isSubmitted),t.xp6(6),t.Q6J("ngIf",e.form.controls.price.invalid&&e.isSubmitted),t.xp6(4),t.Q6J("rows",7),t.xp6(1),t.Q6J("ngIf",e.form.controls.description.invalid&&e.isSubmitted),t.xp6(5),t.Q6J("ngIf",e.form.controls.description.invalid&&e.isSubmitted))},directives:[h.FN,c.O5,T.Z,I.o,x.zx,p.rH,d._Y,d.JL,d.sg,d.Fj,U.o,d.JJ,d.u,O.Rn,M.g],pipes:[c.Ov],styles:[".overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;background-color:#000;opacity:.5;width:100%;height:100%}"]}),o})();var Q=n(5698),$=n(4004),D=n(8018);function z(o,i){if(1&o){const r=t.EpF();t.TgZ(0,"div",10)(1,"p-rating",11),t.NdJ("ngModelChange",function(s){return t.CHM(r),t.oxw(2).product.rating.rate=s}),t.qZA()()}if(2&o){const r=t.oxw(2);t.xp6(1),t.Q6J("ngModel",r.product.rating.rate)("disabled",!0)("cancel",!1)}}function j(o,i){if(1&o&&(t.TgZ(0,"div",1)(1,"div",2)(2,"div",3),t._UZ(3,"img",4),t.qZA(),t.TgZ(4,"div",5)(5,"div",6)(6,"h2"),t._uU(7),t.qZA(),t.TgZ(8,"p")(9,"b"),t._uU(10,"Category:"),t.qZA(),t._uU(11),t.qZA(),t.TgZ(12,"p",7),t._uU(13),t.qZA(),t.YNc(14,z,2,3,"div",8),t.TgZ(15,"div",9),t._uU(16),t.ALo(17,"currency"),t.qZA(),t._UZ(18,"hr"),t.qZA()()()()),2&o){const r=t.oxw();t.xp6(3),t.Q6J("src",r.product.image,t.LSH),t.xp6(4),t.Oqu(r.product.title),t.xp6(4),t.hij(" ",r.product.category,""),t.xp6(2),t.hij(" ",r.product.description," "),t.xp6(1),t.Q6J("ngIf",r.product.rating),t.xp6(2),t.hij(" ",t.lcZ(17,6,r.product.price)," ")}}let X=(()=>{class o{constructor(r,e,s){this.active=r,this.prodSer=e,this.uiSer=s,this.endSub$=new a.x}ngOnInit(){this.getId()}getId(){this.uiSer.showLoader(),this.active.params.pipe((0,Q.q)(1),function _(...o){const i=o.length;if(0===i)throw new Error("list of properties cannot be empty.");return(0,$.U)(r=>{let e=r;for(let s=0;s<i;s++){const u=null==e?void 0:e[o[s]];if(void 0===u)return;e=u}return e})}("id")).subscribe(r=>{this.getProduct(r)})}getProduct(r){this.prodSer.getProduct(r).pipe(l(this.endSub$)).subscribe(e=>{this.product=e,this.uiSer.hideLoader()})}ngOnDestroy(){this.endSub$.next(""),this.endSub$.complete()}}return o.\u0275fac=function(r){return new(r||o)(t.Y36(p.gz),t.Y36(m),t.Y36(g.F))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-products-details"]],decls:1,vars:1,consts:[["class","prod-page",4,"ngIf"],[1,"prod-page"],[1,"grid"],[1,"md:col-6","sm:col-12","gallery"],["alt","Product Image",3,"src"],[1,"md:col-6","sm:col-12"],[1,"details"],[1,"prod-des"],["class","prod-rating",4,"ngIf"],[1,"prod-price"],[1,"prod-rating"],[3,"ngModel","disabled","cancel","ngModelChange"]],template:function(r,e){1&r&&t.YNc(0,j,19,8,"div",0),2&r&&t.Q6J("ngIf",e.product)},directives:[c.O5,D.iG,d.JJ,d.On],pipes:[c.H9],styles:[".prod-page[_ngcontent-%COMP%]   .gallery[_ngcontent-%COMP%]{display:flex;justify-content:center;margin:30px 0}.prod-page[_ngcontent-%COMP%]   .gallery[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:150px;height:200px;object-fit:cover}"]}),o})();function k(o,i){if(1&o&&(t.TgZ(0,"div",1)(1,"div",2),t._UZ(2,"img",3),t.qZA(),t.TgZ(3,"h4",4),t._uU(4),t.qZA(),t.TgZ(5,"p",5),t._uU(6),t.ALo(7,"currency"),t.qZA(),t._UZ(8,"p-button",6),t.qZA()),2&o){const r=t.oxw();t.xp6(2),t.Q6J("src",r.product.image,t.LSH),t.xp6(2),t.Oqu(r.product.title),t.xp6(2),t.Oqu(t.lcZ(7,4,r.product.price)),t.xp6(2),t.Q6J("routerLink","/products/product/"+r.product.id)}}let B=(()=>{class o{constructor(r){this.router=r}ngOnInit(){}}return o.\u0275fac=function(r){return new(r||o)(t.Y36(p.F0))},o.\u0275cmp=t.Xpm({type:o,selectors:[["product-item"]],inputs:{product:"product"},decls:1,vars:1,consts:[["class","prod-container",4,"ngIf"],[1,"prod-container"],[1,"prod-img"],["alt","Product Image",3,"src"],[1,"prod-name"],[1,"price"],["label","Details","icon","pi pi-arrow-right","iconPos","right",3,"routerLink"]],template:function(r,e){1&r&&t.YNc(0,k,9,6,"div",0),2&r&&t.Q6J("ngIf",e.product)},directives:[c.O5,x.zx,p.rH],pipes:[c.H9],styles:[".prod-container[_ngcontent-%COMP%]{position:relative;padding:20px;background-color:var(--surface-300);text-align:center;border-radius:15px;-webkit-border-radius:15px;-moz-border-radius:15px;-ms-border-radius:15px;-o-border-radius:15px;margin-top:80px;height:270px}.price[_ngcontent-%COMP%]{color:red;font-weight:700;margin-top:0}.prod-img[_ngcontent-%COMP%]{position:absolute;top:-55px;width:150px;height:100px;left:50%;transform:translate(-50%);-webkit-transform:translateX(-50%);-moz-transform:translateX(-50%);-ms-transform:translateX(-50%);-o-transform:translateX(-50%)}.prod-img[_ngcontent-%COMP%]:hover{cursor:pointer}.prod-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%}.prod-name[_ngcontent-%COMP%]{margin-top:50px;margin-bottom:50px;height:25px}[_nghost-%COMP%]     .p-button{background-color:red;border-radius:15px;-webkit-border-radius:15px;-moz-border-radius:15px;-ms-border-radius:15px;-o-border-radius:15px;border:0}[_nghost-%COMP%]     .p-button:hover{background-color:var(--primary-color);border-radius:15px;-webkit-border-radius:15px;-moz-border-radius:15px;-ms-border-radius:15px;-o-border-radius:15px}"]}),o})();function H(o,i){1&o&&(t.TgZ(0,"p"),t._uU(1,"Something Went Wrong !"),t.qZA())}function G(o,i){if(1&o&&(t.TgZ(0,"div",6),t._UZ(1,"product-item",7),t.qZA()),2&o){const r=i.$implicit;t.xp6(1),t.Q6J("product",r)}}function R(o,i){if(1&o&&(t.TgZ(0,"div",4),t.YNc(1,G,2,1,"div",5),t.qZA()),2&o){const r=t.oxw();t.xp6(1),t.Q6J("ngForOf",r.products)}}const E=[{path:"",component:(()=>{class o{constructor(r,e){this.prodSer=r,this.uiSer=e,this.endSub$=new a.x,this.products=[]}ngOnInit(){this.getProducts()}getProducts(){this.uiSer.showLoader(),this.prodSer.getProducts("10").pipe(l(this.endSub$)).subscribe(r=>{this.products=r,this.uiSer.hideLoader()})}ngOnDestroy(){this.endSub$.next(""),this.endSub$.complete()}}return o.\u0275fac=function(r){return new(r||o)(t.Y36(m),t.Y36(g.F))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-products-list"]],decls:4,vars:2,consts:[[1,"product-list"],[1,"product-list-wrapper"],[4,"ngIf"],["class","grid",4,"ngIf"],[1,"grid"],["class","product-wrapper",4,"ngFor","ngForOf"],[1,"product-wrapper"],[3,"product"]],template:function(r,e){1&r&&(t.TgZ(0,"div",0)(1,"div",1),t.YNc(2,H,2,0,"p",2),t.YNc(3,R,2,1,"div",3),t.qZA()()),2&r&&(t.xp6(2),t.Q6J("ngIf",!e.products),t.xp6(1),t.Q6J("ngIf",e.products))},directives:[c.O5,c.sg,B],styles:[".product-list-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.product-list-wrapper[_ngcontent-%COMP%]   .product-wrapper[_ngcontent-%COMP%]{width:30%}.product-list-wrapper[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between}"]}),o})()},{path:"product/:id",component:X},{path:"add-product",component:F}];let W=(()=>{class o{}return o.\u0275fac=function(r){return new(r||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[p.Bz.forChild(E)],p.Bz]}),o})(),V=(()=>{class o{}return o.\u0275fac=function(r){return new(r||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[c.ez,W,P.m,d.u5,d.UX,h.EV]]}),o})()}}]);